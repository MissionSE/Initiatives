<!DOCTYPE html>
<html>
  <head>
    <title>Grid Manager</title>
    <link rel="stylesheet" type="text/css" href="guistyle.css">
    <script type="text/javascript">
      var parentWindow;
      var parentURI;

      function toggleGrid(value) {
        //alert("grids set to "+value);
        parentWindow.postMessage("grids:"+value,parentURI);
      }
      
      function toggleRR(value) {
        //alert("range rings set to "+value);
        parentWindow.postMessage("range rings:"+value,parentURI);
      }

      function processEvents() {
        //respond to events
        window.addEventListener('message',function(event) {
          if(event.origin !== 'http://localhost:8888') return;
          parentWindow = event.source;
          parentURI = event.origin;
          parentWindow.postMessage('gridManager received message',event.origin);
        },false);
      }
    </script>
  </head>
  
  <body onload="processEvents()">
    <div id = grids>
      <h3>Lat/Lon Grid</h3>
      <h4>
        Off  
        <input type="radio" name="grid" value="Off" onclick=toggleGrid(false)><br />
        On
        <input type="radio" name="grid" value="On" onclick=toggleGrid(true)><br />
      </h4>
      <hr>
      <h3>Range Rings</h3>
      <h4>
        Off  
        <input type="radio" name="rr" value="Off" onclick=toggleRR(false)><br />
        On
        <input type="radio" name="rr" value="On" onclick=toggleRR(true)><br />
      </h4>
    </div>
  </body>
</html>