<!DOCTYPE html>
<html>
  <head>
    <title>View Offset</title>
    <link rel="stylesheet" type="text/css" href="guistyle.css">
    <script type="text/javascript">
      var parentWindow;
      var parentURI;

      function offsetOwnship() {
        //alert("offsetOwnship pressed");
        var rawData = {
          key : "offset",
          value : "offset ownship",
        };
        var data = JSON.stringify(rawData);
        parentWindow.postMessage(data,parentURI);
      }
      
      function offsetPriHook() {
        //alert("offsetPriHook pressed");
        var rawData = {
          key : "offset",
          value : "offset pri hook",
        };
        var data = JSON.stringify(rawData);
        parentWindow.postMessage(data,parentURI);
      }
      
      function offsetSecHook() {
        //alert("offsetSecHook pressed");
        var rawData = {
          key : "offset",
          value : "offset sec hook",
        };
        var data = JSON.stringify(rawData);
        parentWindow.postMessage(data,parentURI);
      }
      
      function offsetTrackID() {
        //alert("offsetTrackID | "+document.getElementById("offsetTrackID").value);
        var trackID = document.getElementById("offsetTrackID").value;
        var rawData = {
          key : "offset",
          value : "offset track",
          trackID : trackID,
        };
        var data = JSON.stringify(rawData);
        parentWindow.postMessage(data,parentURI);
      }
      function offsetLatLon() {
        var latValue = document.getElementById("offsetLat").value;
        var lonValue = document.getElementById("offsetLon").value;
        var rawData = {
          key : "offset",
          value : "offset lat lon",
          lat : latValue,
          lon : lonValue,
        };
        var data = JSON.stringify(rawData);
        parentWindow.postMessage(data,parentURI);
      }

      function offsetAddress() {
        //alert("offsetAddress "+ document.getElementById("offsetAddress").value);
        var addressValue = document.getElementById("offsetAddress").value;
        var rawData = {
          key : "offset",
          value : "offset address",
          address : addressValue,
        };
        var data = JSON.stringify(rawData);
        parentWindow.postMessage(data,parentURI);
      }

      function processEvents() {
        //respond to events
        window.addEventListener('message',function(event) {
          //if(event.origin !== 'http://localhost:8888') return;
          parentWindow = event.source;
          parentURI = event.origin;
          var rawData = {
            key : "view",
            value : "viewManager received message",
          };
          var data = JSON.stringify(rawData);
          parentWindow.postMessage(data,event.origin);
        },false);
      }
      </script>
    </script>
  </head>
  
  <body onload="processEvents()">
    <div id = offset>
      <h3>Offset Track</h3>
      <input type="button" class="button" value="Offset Ownship" onclick=offsetOwnship()>
      <input type="button" class="button" value="Offset Pri Hook" onclick=offsetPriHook()>
      <input type="button" class="button" value="Offset Sec Hook" onclick=offsetSecHook()>
      <br /> <br />      
      <input type="number" class="number" id="offsetTrackID" min="1" max="999" placeholder="xxx" value=1>
      <input type="button" class="button" value="Offset Track ID" onclick=offsetTrackID()>
      <hr>

      <h3>Offset Position</h3>
      <textarea id=offsetLat class="textarea" placeholder=latitude></textarea>
      <textarea id=offsetLon class="textarea" placeholder=longitude></textarea>
      <input type="button" class="button" value="Offset Lat/Lon" onclick=offsetLatLon()>
      <hr>

      <h3>Offset Address</h3>
      <textarea id=offsetAddress class="textarea" placeholder="123 Main Street Anytown"></textarea>
      <br />
      <input type="button" class="button" value="Offset Address" onclick=offsetAddress()>
    </div>
  </body>
</html>