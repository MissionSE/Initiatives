<!doctype html>

<html lang="en">
<head>
    <h1>Get Tracks Test</h1>
    <hr>
    <script type="text/javascript" src="jquery-1.10.2.min.js"></script>
    <script language="JavaScript" type="text/javascript">    
        function getTracks() {
            document.getElementById("status").innerHTML = "updating...";

            var url = "getTracks.php";

            var outputData='';
            
            $.post(url, {trackId:1}, function(data) {

                $.each(data,function(key,value) {
                    outputData+='TrackNum:'+value.trackNum;
                    outputData+=' TrackCategory:'+value.trackCategory;
                    outputData+=' TrackIdentity:'+value.trackIdentity;
                    outputData+=' TrackPlatform:'+value.trackPlatform;
                    outputData+=' TrackLat:'+value.trackLat;
                    outputData+=' TrackLon:'+value.trackLon+"<br>";
                });
                $("#status").html(outputData);
            });
        }
        
        function startGetTracks() {
            //Call function immediately then on the interval
            getTracks();
            interval=setInterval(function(){getTracks()},3000);                
        }
    </script>
 
    <style type="text/css"> 
        #main {
            width: 1200px;
            height: 600px;
            float: left;
        }

        #status{
            width:1200px; height:400px; padding:10px; 
            border:#666 1px solid; background-color:#FAEEC5; 
            font-size:18px;
        }
    </style> 
</head>
<body>
    <button id="Tracks" onclick="startGetTracks()">Get Tracks Data</button>
    <hr>
    <div id ="status" <h1>stopped</h1></div>
</body>
</html>
