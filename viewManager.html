<!DOCTYPE html>
<html>
  <head>
    <title>View Offset</title>
    <link rel="stylesheet" type="text/css" href="guistyle.css">
    <script type="text/javascript">
      var parentWindow;
      var parentURI;

      function offsetOwnship() {
        //alert("offsetOwnship pressed");
        parentWindow.postMessage("offset ownship",parentURI);
      }
      
      function offsetPriHook() {
        //alert("offsetPriHook pressed");
        parentWindow.postMessage("offset pri hook",parentURI);
      }
      
      function offsetSecHook() {
        //alert("offsetSecHook pressed");
        parentWindow.postMessage("offset sec hook",parentURI);
      }
      
      function offsetTrackID() {
        //alert("offsetTrackID | "+document.getElementById("offsetTrackID").value);
        var trackID = document.getElementById("offsetTrackID").value;
        parentWindow.postMessage("offset track:"+trackID,parentURI);
      }
      function offsetLatLon() {
        //alert("offsetLatLon "+ document.getElementById("offsetLat").value+"|"+document.getElementById("offsetLon").value);
        var lat = document.getElementById("offsetLat").value;
        var lon = document.getElementById("offsetLon").value;
        parentWindow.postMessage("offset lat lon:"+lat+" "+lon,parentURI);
      }

      function offsetAddress() {
        //alert("offsetAddress "+ document.getElementById("offsetAddress").value);
        var address = document.getElementById("offsetAddress").value;
        parentWindow.postMessage("offset address:"+address,parentURI);
      }

      function processEvents() {
        //respond to events
        window.addEventListener('message',function(event) {
          //if(event.origin !== 'http://localhost:8888') return;
          parentWindow = event.source;
          parentURI = event.origin;
          parentWindow.postMessage('viewManager received message',event.origin);
        },false);
      }
      </script>
    </script>
  </head>
  
  <body onload="processEvents()">
    <div id = offset>
      <h3>Offset Track</h3>
      <input type="button" class="button" value="Offset Ownship" onclick=offsetOwnship()>
      <input type="button" class="button" value="Offset Pri Hook" onclick=offsetPriHook()>
      <input type="button" class="button" value="Offset Sec Hook" onclick=offsetSecHook()>
      <br /> <br />      
      <input type="number" class="number" id="offsetTrackID" min="1" max="999" placeholder="xxx" value=1>
      <input type="button" class="button" value="Offset Track ID" onclick=offsetTrackID()>
      <hr>

      <h3>Offset Position</h3>
      <textarea id=offsetLat class="textarea" placeholder=latitude></textarea>
      <textarea id=offsetLon class="textarea" placeholder=longitude></textarea>
      <input type="button" class="button" value="Offset Lat/Lon" onclick=offsetLatLon()>
      <hr>

      <h3>Offset Address</h3>
      <textarea id=offsetAddress class="textarea" placeholder="123 Main Street Anytown"></textarea>
      <br />
      <input type="button" class="button" value="Offset Address" onclick=offsetAddress()>
    </div>
  </body>
</html>